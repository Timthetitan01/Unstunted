<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Amplify Your Ministry</title>
    <!-- Import Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Import Inter font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <style>
        /* Apply the Inter font family */
        body {
            font-family: 'Inter', sans-serif;
        }

        /* Input focus styles */
        .form-input-field {
            transition: all 0.2s;
            border: 1px solid #d1d5db; /* gray-300 */
        }

        .form-input-field:focus {
            outline: none;
            border-color: #3b82f6; /* blue-500 */
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.5); /* blue-500 ring */
        }
    </style>
</head>
<body class="bg-white text-gray-900 antialiased">

    <!--
      Hero Section - Now containing the form directly
    -->
    <section class="min-h-screen flex flex-col items-center justify-center p-4 md:p-8 bg-gradient-to-b from-white to-gray-50 relative">
        <div class="text-center max-w-4xl mx-auto">
            
            <!-- Main Headline -->
            <h1 class="text-4xl md:text-6xl font-bold text-gray-900 mb-6 leading-tight">
                Get 3 PROFESSIONALLY EDITED sermon clips
                <span class="text-blue-600">completely free.</span>
            </h1>
            <!-- Sub-headline -->
            <p class="text-lg md:text-xl text-gray-600 mb-10 max-w-3xl mx-auto">
            Weâ€™ll take one of your recent sermons off of youtube, and turn it into three high-quality clips your church can post immediately.
            </p>

            <!--
                Direct Lead Capture Form (Previously inside the modal)
                Now centered and contained within a card.
            -->
            <div class="bg-white p-6 md:p-8 rounded-xl shadow-xl w-full max-w-lg mx-auto border border-gray-100">
                <form id="leadForm" class="space-y-5">
                    
                    <div>
                        <label for="church_email" class="block text-sm font-medium text-gray-700 mb-1 text-left">Church or Personal Email (Required)</label>
                        <input type="email" id="church_email" name="Email" required
                               placeholder="you@yourchurch.org"
                               class="form-input-field w-full p-3 rounded-lg">
                    </div>

                    <div>
                        <label for="phone_number" class="block text-sm font-medium text-gray-700 mb-1 text-left">Best Contact Phone Number</label>
                        <input type="tel" id="phone_number" name="Phone Number"
                               placeholder="(555) 555-5555"
                               class="form-input-field w-full p-3 rounded-lg">
                    </div>

                    <div>
                        <label for="youtube_url" class="block text-sm font-medium text-gray-700 mb-1 text-left">Church YouTube Channel URL</label>
                        <input type="url" id="youtube_url" name="YouTube Channel URL"
                               placeholder="https://www.youtube.com/@ChurchName"
                               class="form-input-field w-full p-3 rounded-lg">
                    </div>

                    <!-- Submit Button -->
                    <div class="pt-4">
                        <button type="submit" id="submitButton" class="w-full py-3 bg-blue-600 text-white rounded-lg text-lg font-semibold shadow-lg hover:bg-blue-700 transition-all duration-300 disabled:opacity-50">
                            Submit
                        </button>
                    </div>
                </form>
            </div>

        </div>
    </section>

    <!--
      "Thank You" Modal (Used for confirmation after submission)
    -->
    <div id="thanksModal" class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-60 backdrop-blur-sm hidden transition-opacity duration-300" aria-labelledby="thanks-modal-title" role="dialog" aria-modal="true">
        
        <div id="thanksModalContent" class="bg-white rounded-xl shadow-2xl w-full max-w-sm md:max-w-md p-6 md:p-8 text-center transform transition-all duration-300 scale-95 opacity-0">
            <div class="p-3 bg-green-100 rounded-full inline-block mb-4">
                 <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-green-600"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline></svg>
            </div>
            <h2 id="thanks-modal-title" class="text-2xl font-bold text-gray-900 mb-3">Thank You!</h2>
            <p class="text-gray-600 mb-6" id="thanksMessage">
                We've received your information and will be in touch shortly to schedule your **free 15-minute goal setting call**!
            </p>
            <button id="closeThanksButton"
                    class="w-full py-2 px-6 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-blue-300">
                Close
            </button>
        </div>
    </div>

    <!-- JavaScript for Form Functionality -->
    <script>
        // --- Configuration ---
        const FORM_SPREE_URL = 'https://formspree.io/f/xjknrjgq';

        // --- State and UI Elements ---
        const ui = {
            leadForm: document.getElementById('leadForm'),
            submitButton: document.getElementById('submitButton'),
            thanksModal: document.getElementById('thanksModal'),
            thanksModalContent: document.getElementById('thanksModalContent'),
            closeThanksButton: document.getElementById('closeThanksButton')
        };

        const state = {
            isSubmitting: false
        };
        
        // --- Form Submission ---
        const handleSubmission = async (e) => {
            e.preventDefault();

            // Disable button and show loading state
            if (state.isSubmitting) return;
            state.isSubmitting = true;
            ui.submitButton.textContent = 'Sending...';
            ui.submitButton.disabled = true;

            // Prepare final data for Formspree
            const formData = new FormData(ui.leadForm);
            
            // Add a timestamp for better logging
            formData.append('submission_time', new Date().toISOString());

            try {
                const response = await fetch(FORM_SPREE_URL, {
                    method: 'POST',
                    body: formData,
                    headers: {
                        'Accept': 'application/json'
                    }
                });

                if (response.ok) {
                    console.log("Lead form submitted successfully to Formspree.");
                    // Since the form is not in a modal, we just show the thank you modal
                    setTimeout(openThanksModal, 100);
                    ui.leadForm.reset();
                } else {
                    console.warn('Oops! There was a problem submitting your information.');
                    ui.submitButton.textContent = 'Error: Try Again';
                }
            } catch (error) {
                console.error("Fetch Error:", error);
                ui.submitButton.textContent = 'Network Error';
            } finally {
                state.isSubmitting = false;
                // Reset button text after a delay or on successful submission
                if (ui.submitButton.textContent.includes('Error')) {
                     setTimeout(() => ui.submitButton.textContent = 'Submit', 3000);
                } else {
                    ui.submitButton.textContent = 'Submit';
                }
                ui.submitButton.disabled = false;
            }
        };
        
        // --- Modal Control Functions (Only for the Thank You message now) ---

        const openThanksModal = () => {
            ui.thanksModal.classList.remove('hidden');
            requestAnimationFrame(() => {
                ui.thanksModalContent.classList.remove('scale-95', 'opacity-0');
            });
        };

        const closeThanksModal = () => {
            ui.thanksModalContent.classList.add('scale-95', 'opacity-0');
            setTimeout(() => {
                ui.thanksModal.classList.add('hidden');
            }, 300);
        };

        // --- Event Listeners and Initialization ---
        
        // Form submission listener
        ui.leadForm.addEventListener('submit', handleSubmission);

        // Thanks modal listeners
        ui.closeThanksButton.addEventListener('click', closeThanksModal);
        ui.thanksModal.addEventListener('click', (e) => {
            if (e.target === ui.thanksModal) {
                closeThanksModal();
            }
        });

    </script>
</body>
</html>
